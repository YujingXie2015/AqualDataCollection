var winston = require('winston');
require('./index');

var fileTransportOpts = {
  filename: './server.log',
  maxsize: 100,
  maxFiles: 2
};

var consoleTransportOpts = {
  colorize: true,
  timestamp: true,
  prettyPrint: true
};

var logger = new (winston.Logger)({
  transports: [
    new (winston.transports.Console)(consoleTransportOpts),
    new (winston.transports.DailyRotateFile)(fileTransportOpts)
  ]
});

for (var i = 0; i < 100000; i++) {
  setTimeout(function () {
    logger.log('info', 'Hello created log files!');
  }, 1);
}
